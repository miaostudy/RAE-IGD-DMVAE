# Cifar
## 结果
| 模型       | train acc | val acc |
|----------|-----------|---------|
| resnet10 |           | 81.3%   |
| resnet18 |           | 79.1%   |
## 代理模型训练
### resnet10
```shell
python IGD/train_ckpts.py -d cifar10 -n resnet --nclass 10 --norm_type instance --tag test --slct_type random --mixup vanilla --repeat 1 --ckpt-dir ./ckpts/cifar10/resnet10/ --epochs 50 --depth 10 --ipc -1 --data_dir /data/wlf/datasets/
```
[](https://youke2.picui.cn/s1/2025/12/29/69525daa32bd4.png)
### resnet18
```shell
python IGD/train_ckpts.py -d cifar10 -n resnet --nclass 10 --norm_type instance --tag test --slct_type random --mixup vanilla --repeat 1 --ckpt-dir ./ckpts/cifar10/resnet18/ --epochs 50 --depth 18 --ipc -1 --data_dir /data/wlf/datasets/
```

### convnet6
```shell
python IGD/train_ckpts.py -d cifar10 -n convnet6 --nclass 10 --norm_type instance --tag test --slct_type random --mixup vanilla --repeat 1 --ckpt-dir ./ckpts/cifar10/convnet6/ --epochs 50 --depth 6 --ipc -1
```

## 采样
### resnet10
这里采样图像因为生成模型的原因只能生成256的，原数据集是128的。
```shell
python IGD/sample_mp.py --model DiT-XL/2 --image-size 256 --ckpt pretrained_models/0012000.pt --save-dir "./results/dit-distillation/10-minimax-igd-resnet10-k15-gamma10-r1-gi100-low30-high45" --data-path /data/wlf/datasets/ --gm-scale 15 --grad-ipc 10 --net-type resnet --depth 10 --low 30 --high 45  --ckpt_path ckpts --repeat 1 --num-samples 10 --dev-scale 10 --nclass 10 --phase 0 --target_nclass 10
```



# Nette





同一个模型，只有ckpt准确率有差别，看看结果谁好？